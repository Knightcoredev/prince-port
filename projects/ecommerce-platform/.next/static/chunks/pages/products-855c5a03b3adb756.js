(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{6417:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return t(6937)}])},399:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var l=t(2322),a=t(2784),r=t(6826);function c(e){let{product:s}=e,[t,c]=(0,a.useState)(!0),{addToCart:i}=(0,r.j)();return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[(0,l.jsxs)("div",{className:"relative aspect-square",children:[t&&(0,l.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),(0,l.jsx)("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover",onLoad:()=>c(!1),onError:()=>c(!1)}),s.discount&&(0,l.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-md text-sm font-semibold",children:["-",s.discount,"%"]})]}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-lg text-gray-900 mb-2 line-clamp-2",children:s.name}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:s.description}),(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("span",{className:"text-xl font-bold text-gray-900",children:["$",s.price]}),s.originalPrice&&(0,l.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["$",s.originalPrice]})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex text-yellow-400",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,l.jsx)("svg",{className:"w-4 h-4 ".concat(t<Math.floor(s.rating)?"fill-current":"text-gray-300"),viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),(0,l.jsxs)("span",{className:"text-sm text-gray-600 ml-1",children:["(",s.reviews,")"]})]})]}),(0,l.jsx)("button",{onClick:()=>{i(s)},className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:"Add to Cart"})]})]})}},6937:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var l=t(2322),a=t(2784),r=t(399);function c(){let[e,s]=(0,a.useState)([]),[t,c]=(0,a.useState)(!0),[i,n]=(0,a.useState)("all");(0,a.useEffect)(()=>{o()},[]);let o=async()=>{try{let e=await fetch("/api/products"),t=await e.json();s(t)}catch(e){console.error("Error fetching products:",e)}finally{c(!1)}},d=e.filter(e=>"all"===i||e.category===i),x=["all",...new Set(e.map(e=>e.category))];return t?(0,l.jsx)("div",{className:"flex justify-center items-center min-h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Products"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map(e=>(0,l.jsx)("button",{onClick:()=>n(e),className:"px-4 py-2 rounded-lg capitalize transition-colors ".concat(i===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e},e))})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:d.map(e=>(0,l.jsx)(r.Z,{product:e},e.id))}),0===d.length&&(0,l.jsx)("div",{className:"text-center py-12",children:(0,l.jsx)("p",{className:"text-gray-500 text-lg",children:"No products found in this category."})})]})}function i(){let[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(!0),[i,n]=(0,a.useState)("all"),[o,d]=(0,a.useState)("name");(0,a.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/products"),t=await e.json();s(t)}catch(e){console.error("Error fetching products:",e)}finally{r(!1)}},m=e.filter(e=>"all"===i||e.category===i).sort((e,s)=>{switch(o){case"price-low":return e.price-s.price;case"price-high":return s.price-e.price;default:return e.name.localeCompare(s.name)}});return t?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"All Products"}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),(0,l.jsx)("select",{value:i,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:["all","electronics","clothing","home","sports","books"].map(e=>(0,l.jsx)("option",{value:e,children:"all"===e?"All Categories":e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort by"}),(0,l.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"name",children:"Name (A-Z)"}),(0,l.jsx)("option",{value:"price-low",children:"Price (Low to High)"}),(0,l.jsx)("option",{value:"price-high",children:"Price (High to Low)"})]})]})]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",m.length," of ",e.length," products"]})]}),(0,l.jsx)(c,{products:m})]})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6417)}),_N_E=e.O()}]);